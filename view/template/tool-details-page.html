
<div ng-controller="toolDetailsController as toolDetailsCtrl" ng-init="toolDetailsCtrl.loadInitData();" class="container" >

        
        <uib-tabset active="active" ng-repeat="tools in toolDetailsCtrl.theData" >
            <uib-tab ng-click="toolDetailsCtrl.onOptionChange(versionSelected['@id'])" index="$index" ng-repeat="tool in tools.entities" heading='{{tool.type | uppercase}}'>
                <!-- {{a.tools}} -->
                <h1 class="text-center">{{versionSelected.name}}</h1>

                <h6 class="text-center"><a href="{{versionSelected.homepage}}" target="_blank">{{versionSelected.homepage}}</a></h6>
                <!--<p class="text-center">
                    <a href="https://bio.tools/{{toolDetailsCtrl.theData[0].id}}">
                        <img src="img/bt.svg" alt="">
                    </a>
                </p>-->
                <p class="text-center" ng-repeat="tag in toolDetailsCtrl.tags">
                    <a target='_blank' href="{{tag.link}}">
                        <img ng-src="https://img.shields.io/badge/{{tag.source}}-link-blue.svg" alt="">
                    </a>
                    
                </p>
                <!--<p ng-repeat="ids in {{toolDetailsCtrl.theData[0].entities[0].tools}}">{{ids['@id']}}</p>-->

                <br>
                <div class="row">
                    <div class="col-md-2">
                        <p><b>Description: </b></p>
                    </div>
                    <div class="col-md-10">
                        <p>{{versionSelected.description}}</p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-2">
                        <p><b>Version: </b></p>
                    </div>

                    <div class="col-md-10">

                        <select ng-init="versionSelected = tool.tools[tool.tools.length-1]"
                                ng-model="versionSelected"
                                ng-options="x['@version'] ? x['@version'] : 'No version information' for x in tool.tools" ng-change="toolDetailsCtrl.onOptionChange(versionSelected['@id'])">
                        </select>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-md-12">
                        <h2 class="text-center">Metrics</h2>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-2">
                        <p><b>Accesibility:</b></p>
                    </div>
                    <div class="col-md-10">
                        <p>
                            <img ng-src="{{toolDetailsCtrl.metricsData.distribution.sourcecode && 'https://img.shields.io/badge/Source_code-YES-green.svg' || 'https://img.shields.io/badge/Source_code-NO-red.svg'}}" alt="">
                        </p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-2">
                        <p><b>Licensing:</b></p>
                    </div>
                    <div class="col-md-10">
                        <p>
                            <img ng-show="toolDetailsCtrl.metricsData.project.license.osi == false || !toolDetailsCtrl.metricsData.project.license" src="https://img.shields.io/badge/OSI-NO-red.svg" alt="">
                            <img ng-show="toolDetailsCtrl.metricsData.project.license.osi == true" src="https://img.shields.io/badge/OSI-YES-green.svg" alt="">
                            <img ng-show="toolDetailsCtrl.metricsData.project.license.open_source == false || !toolDetailsCtrl.metricsData.project.license" src="https://img.shields.io/badge/Open_source-NO-red.svg" alt="">
                            <img ng-show="toolDetailsCtrl.metricsData.project.license.open_source == true" src="https://img.shields.io/badge/Open_source-YES-green.svg" alt="">
                        </p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-2">
                        <p><b>Documentation:</b></p>
                    </div>
                    <div class="col-md-10">
                        <p>
                            <img ng-src="{{toolDetailsCtrl.metricsData.project.documentation.general == true && 'https://img.shields.io/badge/General-YES-green.svg' || 'https://img.shields.io/badge/General-NO-red.svg'}}" alt="">
                            <img ng-src="{{toolDetailsCtrl.metricsData.project.documentation.faq == true && 'https://img.shields.io/badge/FAQ-YES-green.svg' || 'https://img.shields.io/badge/FAQ-NO-red.svg'}}" alt="">
                            <img ng-src="{{toolDetailsCtrl.metricsData.project.documentation.manual == true && 'https://img.shields.io/badge/Manual-YES-green.svg' || 'https://img.shields.io/badge/Manual-NO-red.svg'}}" alt="">
                            <!-- <img ng-show="toolDetailsCtrl.metricsData.project.documentation.general == true" src="https://img.shields.io/badge/General-YES-green.svg" alt=""> -->
                            <!-- <img ng-show="toolDetailsCtrl.metricsData.project.documentation.general == false || !toolDetailsCtrl.metricsData.documentation.general" src="https://img.shields.io/badge/General-NO-red.svg" alt=""> -->
                            <!-- <img ng-show="toolDetailsCtrl.metricsData.project.summary.description == true" src="https://img.shields.io/badge/Description-YES-green.svg" alt="">
                            <img ng-show="toolDetailsCtrl.metricsData.project.summary.description == false || !toolDetailsCtrl.metricsData.project.summary.description" src="https://img.shields.io/badge/Description-NO-red.svg" alt=""> -->
                        </p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-2">
                        <p><b>Support:</b></p>
                    </div>
                    <div class="col-md-10">
                        <p>
                            <img ng-src="{{toolDetailsCtrl.metricsData.support.email == true && 'https://img.shields.io/badge/Email-YES-green.svg' || 'https://img.shields.io/badge/Email-NO-red.svg'}}" alt="">
                        </p>
                    </div>
                </div>

                <div class="row">
                        <div class="col-md-12">
                            <h2 class="text-center">Up time</h2>
                        </div>
                    </div>
                    <div data-id='uptime' data-xaxis="true" data-title="" data-url="{{toolDetailsCtrl.f}}" data-limit="15" class="opebuptime" ></div> 

                    
                    <span ng-show="versionSelected.publications.length != 0">
                        <div class="row">
                            <div class="col-md-12">
                                    <h2 class="text-center">Publications</h2>
                            </div>                        
                        </div>
                        <div data-id="citation" data-legend="true" style="width:100%" data-url="{{toolDetailsCtrl.f}}" class="opebcitations"></div>
                    </span>
                    <br><br><br>
            </uib-tab>
            
        </uib-tabset>

        
        <div class="row">
            <div class="col-md-5">
                <p><b>Send a request to update information :</b></p>
            </div>
            <div class="col-md-7">
                <button class="btn btn-success "type="button" ng-click="toolDetailsCtrl.addAlert()" name="button">Update information</button>

            </div>
            <div class="col-md-12">
                <br>
                <div uib-alert ng-repeat="alert in toolDetailsCtrl.alerts" dismiss-on-timeout="3000" ng-class="'alert-' + (alert.type || 'success')" close="toolDetailsCtrl.closeAlert($index)">{{alert.msg}}</div>
            </div>
        </div>
        <br>
    </div>

    <error-message error="toolDetailsCtrl.error" ng-show="toolDetailsCtrl.loadingDisplay==2" ></error-message>

</div>

    