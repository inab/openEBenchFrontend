<div ng-controller="communityController as ctrller" class="container-fluid" id="container">
  <div >
    <!-- <div dataset-directive></div> -->
    <h1 class="center-content" > {{ctrller.community.name}} </h1>
    <h3 class="center-content" > {{ctrller.community.description}}</h3>

  </div>

  <div ng-if="!ctrller.isObjectEmpty(ctrller.datasets)" >
    <h2 class="center-content">Datasets</h2>
    <div uib-carousel active="active" interval="1000" no-wrap="noWrapSlides" style="height:335px; width:90%;margin: 0 auto;" template-url="view/template/carousel-template.html">
      <div uib-slide ng-repeat="x in ctrller.datasets" ng-if="ctrller.getSizeOf(ctrller.datasets) > 6" active="active" index="$index" style="height:100%">
        <div dataset-directive
        index="$index"
        length="ctrller.getSizeOf(ctrller.datasets)"
        element="ctrller.datasets[ctrller.getKeys(ctrller.datasets)[$index]]"
        style="position:absolute;left:0%;width:16%;height:100%"> </div>

        <div dataset-directive
        index="ctrller.getIndex($index + 1, ctrller.getSizeOf(ctrller.datasets))"
        length="ctrller.getSizeOf(ctrller.datasets)"
        element="ctrller.datasets[ctrller.getKeys(ctrller.datasets)[ctrller.getIndex($index + 1, ctrller.getSizeOf(ctrller.datasets))]]"
        style="position:absolute;left:16.66%;width:16%;height:100%"> </div>

        <div dataset-directive
        index="ctrller.getIndex($index + 2, ctrller.getSizeOf(ctrller.datasets))"
        length="ctrller.getSizeOf(ctrller.datasets)"
        element="ctrller.datasets[ctrller.getKeys(ctrller.datasets)[ctrller.getIndex($index + 2, ctrller.getSizeOf(ctrller.datasets))]]"
        style="position:absolute;left:33.33%;width:16%;height:100%"> </div>

        <div dataset-directive
        index="ctrller.getIndex($index + 3, ctrller.getSizeOf(ctrller.datasets))"
        length="ctrller.getSizeOf(ctrller.datasets)"
        element="ctrller.datasets[ctrller.getKeys(ctrller.datasets)[ctrller.getIndex($index + 3, ctrller.getSizeOf(ctrller.datasets))]]"
        style="position:absolute;left:50%;width:16%;height:100%"> </div>

        <div dataset-directive
        index="ctrller.getIndex($index + 4, ctrller.getSizeOf(ctrller.datasets))"
        length="ctrller.getSizeOf(ctrller.datasets)"
        element="ctrller.datasets[ctrller.getKeys(ctrller.datasets)[ctrller.getIndex($index + 4, ctrller.getSizeOf(ctrller.datasets))]]"
        style="position:absolute;left:66.66%;width:16%;height:100%"> </div>

        <div dataset-directive
        index="ctrller.getIndex($index + 5, ctrller.getSizeOf(ctrller.datasets))"
        length="ctrller.getSizeOf(ctrller.datasets)"
        element="ctrller.datasets[ctrller.getKeys(ctrller.datasets)[ctrller.getIndex($index + 5, ctrller.getSizeOf(ctrller.datasets))]]"
        style="position:absolute;left:83.33%;width:16%;height:100%"> </div>

      </div>
      <div uib-slide ng-if="ctrller.getSizeOf(ctrller.datasets) < 7" active="active" index="0" style="height:100%">
        <div dataset-directive
        ng-if="ctrller.getSizeOf(ctrller.datasets) > 0"
        index="0"
        length="ctrller.getSizeOf(ctrller.datasets)"
        element="ctrller.datasets[ctrller.getKeys(ctrller.datasets)[0]]"
        style="position:absolute;left:0%;width:16%;height:100%"> </div>

        <div dataset-directive
        ng-if="ctrller.getSizeOf(ctrller.datasets) > 1"
        index="1"
        length="ctrller.getSizeOf(ctrller.datasets)"
        element="ctrller.datasets[ctrller.getKeys(ctrller.datasets)[1]]"
        style="position:absolute;left:16.66%;width:16%;height:100%"> </div>

        <div dataset-directive
        ng-if="ctrller.getSizeOf(ctrller.datasets) > 2"
        index="2"
        length="ctrller.getSizeOf(ctrller.datasets)"
        element="ctrller.datasets[ctrller.getKeys(ctrller.datasets)[2]]"
        style="position:absolute;left:33.33%;width:16%;height:100%"> </div>

        <div dataset-directive
        ng-if="ctrller.getSizeOf(ctrller.datasets) > 3"
        index="3"
        length="ctrller.getSizeOf(ctrller.datasets)"
        element="ctrller.datasets[ctrller.getKeys(ctrller.datasets)[3]]"
        style="position:absolute;left:50%;width:16%;height:100%"> </div>

        <div dataset-directive
        ng-if="ctrller.getSizeOf(ctrller.datasets) > 4"
        index="4"
        length="ctrller.getSizeOf(ctrller.datasets)"
        element="ctrller.datasets[ctrller.getKeys(ctrller.datasets)[4]]"
        style="position:absolute;left:66.66%;width:16%;height:100%"> </div>

        <div dataset-directive
        ng-if="ctrller.getSizeOf(ctrller.datasets) > 5"
        index="5"
        length="ctrller.getSizeOf(ctrller.datasets)"
        element="ctrller.datasets[ctrller.getKeys(ctrller.datasets)[5]]"
        style="position:absolute;left:83.33%;width:16%;height:100%"> </div>

      </div>

    </div>
  </div>

<div ng-if="!ctrller.isObjectEmpty(ctrller.metrics)">
  <!-- <h2 class="center-content"> <b>Metrics</b></h2> -->
  <table class="table table-striped" style="width: 100%">

    <thead>
      <th style="font-size: 20px" colspan="2">
        Metrics
      </th>
    </thead>

    <thead>
      <th>Title</th>
      <th colspan="2">Description</th>
      <th>Links</th>
    </thead>
    <tbody>
      <tr ng-repeat="x in ctrller.metrics">
        <td >
          <div class="" placeholder="{{x.title}}" uib-tooltip="{{x.title}}" tooltip-placement="auto" tooltip-trigger="mouseenter" tooltip-enable="true" >
            {{x.title}}
          </div>
        </td>
        <td  colspan="2">
          <div class="" placeholder="{{x.description}}" uib-tooltip="{{x.description}}" tooltip-placement="auto" tooltip-trigger="mouseenter" tooltip-enable="true" >
            {{x.description}}
          </div>
        </td>
        <td>
          <a href="{{z.uri}}" ng-repeat="z in x.links"> {{z.label}} </a>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<div ng-if="!ctrller.isObjectEmpty(ctrller.testevents)">
  <!-- <h2 class="center-content"> <b>Test Events</b></h2> -->
  <table class="table table-striped" style="width: 100%">
    <thead>
      <th style="font-size: 20px" colspan="2">
        Test Events
      </th>
    </thead>
    <thead>
      <th>Id</th>
      <th>Creation</th>
      <th>Reception</th>
      <th>Dataset</th>
      <th>Tool</th>
    </thead>
    <tbody>
      <tr ng-repeat="x in ctrller.testevents">
        <td >
          {{x.benchmarking_event_id}}
        </td>
        <td >
          {{x.dates.creation}}
        </td>
        <td >
          {{x.dates.reception}}
        </td>
        <td >
          <div placeholder="{{ctrller.datasets[x.input_dataset_id].name}}"
          uib-tooltip="{{ctrller.datasets[x.input_dataset_id].name}}"
          tooltip-placement="auto"
          tooltip-trigger="mouseenter"
          tooltip-enable="true" >
          {{ctrller.datasets[x.input_dataset_id].name}}
        </div>

      </td>
      <td >
        <div placeholder="{{ctrller.tools[x.tool_id].name}}: {{ctrller.tools[x.tool_id].description}}"
        uib-tooltip="{{ctrller.tools[x.tool_id].name}}: {{ctrller.tools[x.tool_id].description}}"
        tooltip-placement="auto"
        tooltip-trigger="mouseenter"
        tooltip-enable="true" >
        {{ctrller.tools[x.tool_id].name}}
      </div>

    </td>
  </tr>
</tbody>
</table>
</div>

</div>
